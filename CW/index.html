<!DOCTYPE html>
<html>

<head>
	<title>Circle World</title>
	<meta http-equiv="Content-Type" content="text/html; charset = utf-8" />
	<link rel="shortcut icon" href=""> <!-- removed favicon.ico -->
	<link rel="manifest" href="manifest.json">

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />

	<!-- Add to home screen for Safari on iOS -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="#FFC61D">
	<meta name="apple-mobile-web-app-title" content="CwS">

	<link rel="apple-touch-icon" href="icons/icon-152x152.png">

	<!-- Windows -->
	<meta name="msapplication-TileImage" content="icons/icon-144x144.png">
	<meta name="msapplication-TileColor" content="#2F3BA2">

	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#FFC61D">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#FFC61D">

	<link rel="icon" type="image/png" href="icons/icon-144x144.png">


	
	<script src="js/easeljs.min.js"></script>
	<script src="js/jquery-3.4.1.min.js"></script>

	<script src="js/helpers/util.js"></script>
	<script src="js/helpers/constants.js"></script>
	<script src="js/helpers/graphicsService.js"></script>

	<script src="js/kid.js"></script>
	<script src="js/helpers/builder.js"></script>
	<script src="js/helpers/kidsBuilder.js"></script>
	<script src="js/helpers/physicsHandler.js"></script>

	<script src="js/worldRender.js"></script>

	<!--
	// CreateJS / easelJS Referenece Doc: http://www.createjs.com/getting-started
	//		Google Doc:	https://docs.google.com/document/d/11620kT9Nmc5_p4mYg3t4ClwXM5KSLKS2xj474nmeRqs/edit?ts=5ff9203f
	// Classes:
	//	- CanvasStage Class - Main Stage Class, Starting point
	//  - Kids Class 		- Kids object...
	//	- KidsBuilder Class - Builder class for Kids Object
	//	- Builder Class 	- Util For Attribtue & Location generator class
	//	- PhysicsHandler	- Class to manage physical related decision/detection -- collision with something..  detect bounds..
	//						- Based on each object location..
	-->

</head>

<body>

	<canvas id="demoCanvas" width="700" height="500" style="background-color: #FDD;"></canvas>
	<div id="commands" style="margin: 5px;">
		<!--button id="btnStartStop">Stop</button> 
    <button id="btnAddKid" style="margin-left: 7px;">Add Kid</button-->
		<input id="inputFramerate" readonly style="margin-left: 7px; width: 20px; background-color: #eee;" />
		<button id="btnFramerateUp" style="margin-left: 3px;">+</button>
		<button id="btnFramerateDown">-</button>
	</div>
	<div id="divInfo" style="border: 1px solid #bbbbbb; margin: 5px;"></div>
	<div id="divMsg" style="border: 1px solid #bbbbbb;"></div>

	<script>
		serviceWorkerStart();

		$(document).ready(function () {
			var _canvasStage = new WorldRender();
			_canvasStage.startUp();
		});


		// ============================================

		function serviceWorkerStart() {
			//window.isUpdateAvailable = new Promise(function(resolve, reject) {
			// lazy way of disabling service workers while developing
			if ('serviceWorker' in navigator )
			//&& ['localhost', '127'].indexOf(location.hostname) === -1
			{
				// register service worker file
				navigator.serviceWorker.register('service-worker.js')
					.then(reg => {
						reg.onupdatefound = () => {
							const installingWorker = reg.installing;
							installingWorker.onstatechange = () => {
								switch (installingWorker.state) {
									case 'installed':
										if (navigator.serviceWorker.controller) {
											// new update available
											console.log( 'Update Found.' );
											//resolve(true);
										} else {
											// no update available
											console.log( 'No Update Found.' );
											//resolve(false);
										}
										break;
								}
							};
						};
					})
					.catch(err => console.error('[SW ERROR]', err));
			}
			//});		
		};		

	</script>

</body>

</html>